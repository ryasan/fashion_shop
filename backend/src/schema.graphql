# import * from './generated/prisma.graphql'

type Query {
  me: User
  products: [Product!]
  productsConnection(filters: Filters!): ProductConnection!
  size(where: SizeWhereInput): Size!
  sizes(where: SizeWhereInput): [Size]!
}

input Filters {
  freeShippingFilter: Boolean!
  sizeFilters: [String!]!
}

type Mutation {
  deleteMe: SuccessMessage
  signin(email: String!, password: String!): User!
  signout: SuccessMessage
  signup(email: String!, username: String!, password: String!): User!
  createProduct(data: ProductCreateInput, sizes: [String]): Product!
  updateProduct(
    data: ProductUpdateInput!
    where: ProductWhereUniqueInput!
  ): Product
  createSize(data: SizeCreateInput!): Size!
}

type User {
  id: ID!
  email: String!
  username: String!
  password: String!
  cart: [CartItem!]!
}

type CartItem {
  id: ID!
  quantity: Int!
  product: Product!
  user: User!
}

type Product {
  id: ID!
  description: String!
  isFreeShipping: Boolean!
  isFeatured: Boolean!
  price: Int!
  sku: String!
  style: String!
  title: String!
}

type Size {
  id: ID!
  name: String!
  products: [ID!]!
}

type SuccessMessage {
  message: String
}
